<!-- Navigation -->
<notifier-container style="color: white;"></notifier-container>
<ng-template #customNotification let-notificationData="notification">
  <my-custom-alert type="notificationData.type">
    {{ notificationData.message }}
  </my-custom-alert>
</ng-template>
<nav class="navbar navbar-default navbar-expand-lg static-top bg-white rounded pt-0">
  <div class="wrapper container col-md-12  col-sm-12">
    <a class="navbar-brand" href="#">
      <img src="../../../assets/images/logo.svg">
    </a>
    <div>
      <ul class="navbar-nav ml-auto">
        <li class="nav-item mr-5">
          <a class="nav-link" href="#">Contact</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<div class="container login-div p-0">
  <div>
    <img class="svg-image" src="../../../assets/images/bg.svg">
  </div>
  <div class="container welcome-div col-md-5 col-sm-5 col-sm">
    <h2>Welcome to</h2>
    <h2 class="welcome">Mera Super Market</h2>
    <label class="otp">OTP will be send on your mail or mobile number for verification</label>
    <div *ngIf="!isOtpSend">
      <h3>Login</h3>
      <input type="text" class="form-control" placeholder="Your Email Id" aria-label="mail" [(ngModel)]="txtEmail"
        name="txtEmail"/>
        <label *ngIf="emailIsValid && txtEmail" class="m-2 d-flex justify-content-center text-danger">Email is not valid </label>
      <div class="separator">OR</div>
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text" id="basic-addon1">+91</span>
        </div>
        <input class="form-control" type="text" pattern="^[0-9]*$" type="text" maxlength="10" placeholder="1111111111"
          onkeypress="return ( event.charCode !=8 && event.charCode ==0 || 
            (event.charCode >= 48 && event.charCode <= 57))" autocomplete="off" [(ngModel)]="txtPhone"
          name="txtPhone" />
      </div>
      <label class="d-flex justify-content-center">Resend code in 0:{{counterValue}}</label>

      <button [disabled]="!txtEmail && !txtPhone" class="btn btn-block" (click)="sendOtp(txtEmail,txtPhone)">
        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-4" role="status" aria-hidden="true"></span>Sent OTP</button>
      <label class="d-flex justify-content-center"> Dont have account?
        <span class="reg-link ml-2 pointer" (click)="register()" >Register</span></label>
    </div>
    <div class="verify-otp" *ngIf="isOtpSend">
      <div class="d-flex align-items-center">
        <img (click)="isOtpSend=false" src=".././../../assets/images/back.svg" alt="My Happy SVG" />
        <h5 class="verify-lbl ml-4">Verify Mobile Number</h5>
      </div>
      <label class="mt-2 d-flex justify-content-center">Please enter OTP weâ€™ve sent you on </label>
      <label class="mt-2 d-flex justify-content-center"> (+91) {{txtPhone}} </label>

      <div class="sm-device">
        <ng-otp-input (onInputChange)="onOtpChange($event)" [config]="{length:4}"></ng-otp-input>
      </div>
     
      <div class="d-flex pr-2 pl-2">
        <!-- <label class="incorrect">
         {{errors}}
        </label> -->
        <label class="resend">
          Resend
        </label>
      </div>
      <button class="btn btn-block" (click)="authorizeToken()" appBtn appBtnStaus="success">
        <span *ngIf="loading" class="spinner-border spinner-border-sm mr-4" role="status" aria-hidden="true"></span>Verify</button>
      <label class="d-flex justify-content-center register"> Dont have account?
        <span class="reg-link ml-2 pointer" (click)="register()">Register</span></label>

    </div>
  </div>
</div>